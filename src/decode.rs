use crate::{Instruction, Mnemonic, AddressMode, AccessType};

pub fn decode(opcode: u8) -> Instruction {
    match opcode {
        0x00 => Instruction { name: Mnemonic::Brk, mode: AddressMode::Special },
        0x01 => Instruction { name: Mnemonic::Ora, mode: AddressMode::XIndexedIndirect(AccessType::Read) },
        0x05 => Instruction { name: Mnemonic::Ora, mode: AddressMode::ZeroPage(AccessType::Read) },
        0x06 => Instruction { name: Mnemonic::Asl, mode: AddressMode::ZeroPage(AccessType::ReadModifyWrite) },
        0x08 => Instruction { name: Mnemonic::Php, mode: AddressMode::Special },
        0x09 => Instruction { name: Mnemonic::Ora, mode: AddressMode::Immediate },
        0x0A => Instruction { name: Mnemonic::Asl, mode: AddressMode::Accumulator },
        0x0D => Instruction { name: Mnemonic::Ora, mode: AddressMode::Absolute(AccessType::Read) },
        0x0E => Instruction { name: Mnemonic::Asl, mode: AddressMode::Absolute(AccessType::ReadModifyWrite) },
        0x10 => Instruction { name: Mnemonic::Bpl, mode: AddressMode::Relative },
        0x11 => Instruction { name: Mnemonic::Ora, mode: AddressMode::IndirectIndexedY(AccessType::Read) },
        0x15 => Instruction { name: Mnemonic::Ora, mode: AddressMode::ZeroPageIndexedX(AccessType::Read) },
        0x16 => Instruction { name: Mnemonic::Asl, mode: AddressMode::ZeroPageIndexedX(AccessType::ReadModifyWrite) },
        0x18 => Instruction { name: Mnemonic::Clc, mode: AddressMode::Implied },
        0x19 => Instruction { name: Mnemonic::Ora, mode: AddressMode::AbsoluteIndexedY(AccessType::Read) },
        0x1D => Instruction { name: Mnemonic::Ora, mode: AddressMode::AbsoluteIndexedX(AccessType::Read) },
        0x1E => Instruction { name: Mnemonic::Asl, mode: AddressMode::AbsoluteIndexedX(AccessType::ReadModifyWrite) },
        0x20 => Instruction { name: Mnemonic::Jsr, mode: AddressMode::Special },
        0x21 => Instruction { name: Mnemonic::And, mode: AddressMode::XIndexedIndirect(AccessType::Read) },
        0x24 => Instruction { name: Mnemonic::Bit, mode: AddressMode::ZeroPage(AccessType::Read) },
        0x25 => Instruction { name: Mnemonic::And, mode: AddressMode::ZeroPage(AccessType::Read) },
        0x26 => Instruction { name: Mnemonic::Rol, mode: AddressMode::ZeroPage(AccessType::ReadModifyWrite) },
        0x28 => Instruction { name: Mnemonic::Plp, mode: AddressMode::Special },
        0x29 => Instruction { name: Mnemonic::And, mode: AddressMode::Immediate },
        0x2A => Instruction { name: Mnemonic::Rol, mode: AddressMode::Accumulator },
        0x2C => Instruction { name: Mnemonic::Bit, mode: AddressMode::Absolute(AccessType::Read) },
        0x2D => Instruction { name: Mnemonic::And, mode: AddressMode::Absolute(AccessType::Read) },
        0x2E => Instruction { name: Mnemonic::Rol, mode: AddressMode::Absolute(AccessType::ReadModifyWrite) },
        0x30 => Instruction { name: Mnemonic::Bmi, mode: AddressMode::Relative },
        0x31 => Instruction { name: Mnemonic::And, mode: AddressMode::IndirectIndexedY(AccessType::Read) },
        0x35 => Instruction { name: Mnemonic::And, mode: AddressMode::ZeroPageIndexedX(AccessType::Read) },
        0x36 => Instruction { name: Mnemonic::Rol, mode: AddressMode::ZeroPageIndexedX(AccessType::ReadModifyWrite) },
        0x38 => Instruction { name: Mnemonic::Sec, mode: AddressMode::Implied },
        0x39 => Instruction { name: Mnemonic::And, mode: AddressMode::AbsoluteIndexedY(AccessType::Read) },
        0x3D => Instruction { name: Mnemonic::And, mode: AddressMode::AbsoluteIndexedX(AccessType::Read) },
        0x3E => Instruction { name: Mnemonic::Rol, mode: AddressMode::AbsoluteIndexedX(AccessType::ReadModifyWrite) },
        0x40 => Instruction { name: Mnemonic::Rti, mode: AddressMode::Special },
        0x41 => Instruction { name: Mnemonic::Eor, mode: AddressMode::XIndexedIndirect(AccessType::Read) },
        0x45 => Instruction { name: Mnemonic::Eor, mode: AddressMode::ZeroPage(AccessType::Read) },
        0x46 => Instruction { name: Mnemonic::Lsr, mode: AddressMode::ZeroPage(AccessType::ReadModifyWrite) },
        0x48 => Instruction { name: Mnemonic::Pha, mode: AddressMode::Special },
        0x49 => Instruction { name: Mnemonic::Eor, mode: AddressMode::Immediate },
        0x4A => Instruction { name: Mnemonic::Lsr, mode: AddressMode::Accumulator },
        0x4C => Instruction { name: Mnemonic::Jmp, mode: AddressMode::Absolute(AccessType::Read) },
        0x4D => Instruction { name: Mnemonic::Eor, mode: AddressMode::Absolute(AccessType::Read) },
        0x4E => Instruction { name: Mnemonic::Lsr, mode: AddressMode::Absolute(AccessType::ReadModifyWrite) },
        0x50 => Instruction { name: Mnemonic::Bvc, mode: AddressMode::Relative },
        0x51 => Instruction { name: Mnemonic::Eor, mode: AddressMode::IndirectIndexedY(AccessType::Read) },
        0x55 => Instruction { name: Mnemonic::Eor, mode: AddressMode::ZeroPageIndexedX(AccessType::Read) },
        0x56 => Instruction { name: Mnemonic::Lsr, mode: AddressMode::ZeroPageIndexedX(AccessType::ReadModifyWrite) },
        0x58 => Instruction { name: Mnemonic::Cli, mode: AddressMode::Implied },
        0x59 => Instruction { name: Mnemonic::Eor, mode: AddressMode::AbsoluteIndexedY(AccessType::Read) },
        0x5D => Instruction { name: Mnemonic::Eor, mode: AddressMode::AbsoluteIndexedX(AccessType::Read) },
        0x5E => Instruction { name: Mnemonic::Lsr, mode: AddressMode::AbsoluteIndexedX(AccessType::ReadModifyWrite) },
        0x60 => Instruction { name: Mnemonic::Rts, mode: AddressMode::Special },
        0x61 => Instruction { name: Mnemonic::Adc, mode: AddressMode::XIndexedIndirect(AccessType::Read) },
        0x65 => Instruction { name: Mnemonic::Adc, mode: AddressMode::ZeroPage(AccessType::Read) },
        0x66 => Instruction { name: Mnemonic::Ror, mode: AddressMode::ZeroPage(AccessType::ReadModifyWrite) },
        0x68 => Instruction { name: Mnemonic::Pla, mode: AddressMode::Special },
        0x69 => Instruction { name: Mnemonic::Adc, mode: AddressMode::Immediate },
        0x6A => Instruction { name: Mnemonic::Ror, mode: AddressMode::Accumulator },
        0x6C => Instruction { name: Mnemonic::Jmp, mode: AddressMode::Indirect },
        0x6D => Instruction { name: Mnemonic::Adc, mode: AddressMode::Absolute(AccessType::Read) },
        0x6E => Instruction { name: Mnemonic::Ror, mode: AddressMode::Absolute(AccessType::ReadModifyWrite) },
        0x70 => Instruction { name: Mnemonic::Bvs, mode: AddressMode::Relative },
        0x71 => Instruction { name: Mnemonic::Adc, mode: AddressMode::IndirectIndexedY(AccessType::Read) },
        0x75 => Instruction { name: Mnemonic::Adc, mode: AddressMode::ZeroPageIndexedX(AccessType::Read) },
        0x76 => Instruction { name: Mnemonic::Ror, mode: AddressMode::ZeroPageIndexedX(AccessType::ReadModifyWrite) },
        0x78 => Instruction { name: Mnemonic::Sei, mode: AddressMode::Implied },
        0x79 => Instruction { name: Mnemonic::Adc, mode: AddressMode::AbsoluteIndexedY(AccessType::Read) },
        0x7D => Instruction { name: Mnemonic::Adc, mode: AddressMode::AbsoluteIndexedX(AccessType::Read) },
        0x7E => Instruction { name: Mnemonic::Ror, mode: AddressMode::AbsoluteIndexedX(AccessType::ReadModifyWrite) },
        0x81 => Instruction { name: Mnemonic::Sta, mode: AddressMode::XIndexedIndirect(AccessType::Write) },
        0x84 => Instruction { name: Mnemonic::Sty, mode: AddressMode::ZeroPage(AccessType::Write) },
        0x85 => Instruction { name: Mnemonic::Sta, mode: AddressMode::ZeroPage(AccessType::Write) },
        0x86 => Instruction { name: Mnemonic::Stx, mode: AddressMode::ZeroPage(AccessType::Write) },
        0x88 => Instruction { name: Mnemonic::Dey, mode: AddressMode::Implied },
        0x8A => Instruction { name: Mnemonic::Txa, mode: AddressMode::Implied },
        0x8C => Instruction { name: Mnemonic::Sty, mode: AddressMode::Absolute(AccessType::Write) },
        0x8D => Instruction { name: Mnemonic::Sta, mode: AddressMode::Absolute(AccessType::Write) },
        0x8E => Instruction { name: Mnemonic::Stx, mode: AddressMode::Absolute(AccessType::Write) },
        0x90 => Instruction { name: Mnemonic::Bcc, mode: AddressMode::Relative },
        0x91 => Instruction { name: Mnemonic::Sta, mode: AddressMode::IndirectIndexedY(AccessType::Write) },
        0x94 => Instruction { name: Mnemonic::Sty, mode: AddressMode::ZeroPageIndexedX(AccessType::Write) },
        0x95 => Instruction { name: Mnemonic::Sta, mode: AddressMode::ZeroPageIndexedX(AccessType::Write) },
        0x96 => Instruction { name: Mnemonic::Stx, mode: AddressMode::ZeroPageIndexedY(AccessType::Write) },
        0x98 => Instruction { name: Mnemonic::Tya, mode: AddressMode::Implied },
        0x99 => Instruction { name: Mnemonic::Sta, mode: AddressMode::AbsoluteIndexedY(AccessType::Write) },
        0x9A => Instruction { name: Mnemonic::Txs, mode: AddressMode::Implied },
        0x9D => Instruction { name: Mnemonic::Sta, mode: AddressMode::AbsoluteIndexedX(AccessType::Write) },
        0xA0 => Instruction { name: Mnemonic::Ldy, mode: AddressMode::Immediate },
        0xA1 => Instruction { name: Mnemonic::Lda, mode: AddressMode::XIndexedIndirect(AccessType::Read) },
        0xA2 => Instruction { name: Mnemonic::Ldx, mode: AddressMode::Immediate },
        0xA4 => Instruction { name: Mnemonic::Ldy, mode: AddressMode::ZeroPage(AccessType::Read) },
        0xA5 => Instruction { name: Mnemonic::Lda, mode: AddressMode::ZeroPage(AccessType::Read) },
        0xA6 => Instruction { name: Mnemonic::Ldx, mode: AddressMode::ZeroPage(AccessType::Read) },
        0xA8 => Instruction { name: Mnemonic::Tay, mode: AddressMode::Implied },
        0xA9 => Instruction { name: Mnemonic::Lda, mode: AddressMode::Immediate },
        0xAA => Instruction { name: Mnemonic::Tax, mode: AddressMode::Implied },
        0xAC => Instruction { name: Mnemonic::Ldy, mode: AddressMode::Absolute(AccessType::Read) },
        0xAD => Instruction { name: Mnemonic::Lda, mode: AddressMode::Absolute(AccessType::Read) },
        0xAE => Instruction { name: Mnemonic::Ldx, mode: AddressMode::Absolute(AccessType::Read) },
        0xB0 => Instruction { name: Mnemonic::Bcs, mode: AddressMode::Relative },
        0xB1 => Instruction { name: Mnemonic::Lda, mode: AddressMode::IndirectIndexedY(AccessType::Read) },
        0xB4 => Instruction { name: Mnemonic::Ldy, mode: AddressMode::ZeroPageIndexedX(AccessType::Read) },
        0xB5 => Instruction { name: Mnemonic::Lda, mode: AddressMode::ZeroPageIndexedX(AccessType::Read) },
        0xB6 => Instruction { name: Mnemonic::Ldx, mode: AddressMode::ZeroPageIndexedY(AccessType::Read) },
        0xB8 => Instruction { name: Mnemonic::Clv, mode: AddressMode::Implied },
        0xB9 => Instruction { name: Mnemonic::Lda, mode: AddressMode::AbsoluteIndexedY(AccessType::Read) },
        0xBA => Instruction { name: Mnemonic::Tsx, mode: AddressMode::Implied },
        0xBC => Instruction { name: Mnemonic::Ldy, mode: AddressMode::AbsoluteIndexedX(AccessType::Read) },
        0xBD => Instruction { name: Mnemonic::Lda, mode: AddressMode::AbsoluteIndexedX(AccessType::Read) },
        0xBE => Instruction { name: Mnemonic::Ldx, mode: AddressMode::AbsoluteIndexedY(AccessType::Read) },
        0xC0 => Instruction { name: Mnemonic::Cpy, mode: AddressMode::Immediate },
        0xC1 => Instruction { name: Mnemonic::Cmp, mode: AddressMode::XIndexedIndirect(AccessType::Read) },
        0xC4 => Instruction { name: Mnemonic::Cpy, mode: AddressMode::ZeroPage(AccessType::Read) },
        0xC5 => Instruction { name: Mnemonic::Cmp, mode: AddressMode::ZeroPage(AccessType::Read) },
        0xC6 => Instruction { name: Mnemonic::Dec, mode: AddressMode::ZeroPage(AccessType::ReadModifyWrite) },
        0xC8 => Instruction { name: Mnemonic::Iny, mode: AddressMode::Implied },
        0xC9 => Instruction { name: Mnemonic::Cmp, mode: AddressMode::Immediate },
        0xCA => Instruction { name: Mnemonic::Dex, mode: AddressMode::Implied },
        0xCC => Instruction { name: Mnemonic::Cpy, mode: AddressMode::Absolute(AccessType::Read) },
        0xCD => Instruction { name: Mnemonic::Cmp, mode: AddressMode::Absolute(AccessType::Read) },
        0xCE => Instruction { name: Mnemonic::Dec, mode: AddressMode::Absolute(AccessType::ReadModifyWrite) },
        0xD0 => Instruction { name: Mnemonic::Bne, mode: AddressMode::Relative },
        0xD1 => Instruction { name: Mnemonic::Cmp, mode: AddressMode::IndirectIndexedY(AccessType::Read) },
        0xD5 => Instruction { name: Mnemonic::Cmp, mode: AddressMode::ZeroPageIndexedX(AccessType::Read) },
        0xD6 => Instruction { name: Mnemonic::Dec, mode: AddressMode::ZeroPageIndexedX(AccessType::ReadModifyWrite) },
        0xD8 => Instruction { name: Mnemonic::Cld, mode: AddressMode::Implied },
        0xD9 => Instruction { name: Mnemonic::Cmp, mode: AddressMode::AbsoluteIndexedY(AccessType::Read) },
        0xDD => Instruction { name: Mnemonic::Cmp, mode: AddressMode::AbsoluteIndexedX(AccessType::Read) },
        0xDE => Instruction { name: Mnemonic::Dec, mode: AddressMode::AbsoluteIndexedX(AccessType::ReadModifyWrite) },
        0xE0 => Instruction { name: Mnemonic::Cpx, mode: AddressMode::Immediate },
        0xE1 => Instruction { name: Mnemonic::Sbc, mode: AddressMode::XIndexedIndirect(AccessType::Read) },
        0xE4 => Instruction { name: Mnemonic::Cpx, mode: AddressMode::ZeroPage(AccessType::Read) },
        0xE5 => Instruction { name: Mnemonic::Sbc, mode: AddressMode::ZeroPage(AccessType::Read) },
        0xE6 => Instruction { name: Mnemonic::Inc, mode: AddressMode::ZeroPage(AccessType::ReadModifyWrite) },
        0xE8 => Instruction { name: Mnemonic::Inx, mode: AddressMode::Implied },
        0xE9 => Instruction { name: Mnemonic::Sbc, mode: AddressMode::Immediate },
        0xEA => Instruction { name: Mnemonic::Nop, mode: AddressMode::Implied },
        0xEC => Instruction { name: Mnemonic::Cpx, mode: AddressMode::Absolute(AccessType::Read) },
        0xED => Instruction { name: Mnemonic::Sbc, mode: AddressMode::Absolute(AccessType::Read) },
        0xEE => Instruction { name: Mnemonic::Inc, mode: AddressMode::Absolute(AccessType::ReadModifyWrite) },
        0xF0 => Instruction { name: Mnemonic::Beq, mode: AddressMode::Relative },
        0xF1 => Instruction { name: Mnemonic::Sbc, mode: AddressMode::IndirectIndexedY(AccessType::Read) },
        0xF5 => Instruction { name: Mnemonic::Sbc, mode: AddressMode::ZeroPageIndexedX(AccessType::Read) },
        0xF6 => Instruction { name: Mnemonic::Inc, mode: AddressMode::ZeroPageIndexedX(AccessType::ReadModifyWrite) },
        0xF8 => Instruction { name: Mnemonic::Sed, mode: AddressMode::Implied },
        0xF9 => Instruction { name: Mnemonic::Sbc, mode: AddressMode::AbsoluteIndexedY(AccessType::Read) },
        0xFD => Instruction { name: Mnemonic::Sbc, mode: AddressMode::AbsoluteIndexedX(AccessType::Read) },
        0xFE => Instruction { name: Mnemonic::Inc, mode: AddressMode::AbsoluteIndexedX(AccessType::ReadModifyWrite) },
        _ => panic!("Unknown instruction opcode: 0x{:02X}", opcode)
    }
}